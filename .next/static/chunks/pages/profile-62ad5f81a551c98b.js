(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[277],{9344:function(e,s,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/profile",function(){return t(2794)}])},5197:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var n=t(5893);function a(){return(0,n.jsxs)("div",{className:"h-screen flex flex-col items-center justify-center",children:[(0,n.jsx)("p",{className:"text-4xl text-gray-300",children:"Ooops"}),(0,n.jsx)("p",{className:"text-red-300",children:"We could not find your profile. Something went wrong!"})]})}},3033:function(e,s,t){"use strict";t.d(s,{Z:function(){return a}});var n=t(5893);function a(){return(0,n.jsxs)("div",{className:"loading",children:[(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{}),(0,n.jsx)("span",{})]})}t(7294)},2794:function(e,s,t){"use strict";t.r(s),t.d(s,{__N_SSP:function(){return u},default:function(){return h}});var n=t(5893),a=t(7294),i=t(1163),l=t(5678);t(1664);var r=t(5197),c=t(3033),d=t(5477),o=t(3750),x=t(9008),m=t.n(x),u=!0;function h(e){let{error:s,user:t,creations:x}=e,{id:u,email:h,fullname:p,profilePicture:f,profilePictureId:j}=t,N=(0,i.useRouter)(),{setProfilePicture:v}=(0,a.useContext)(d.Z),[w,y]=(0,a.useState)(!1),[g,b]=(0,a.useState)();var _=new Date;if(_.setDate(_.getDate()-3),s)return(0,n.jsx)(r.Z,{});let P=e=>{let s=e.target.files[0];if(s.size>1e6){(0,l.Am)("Please select file size less or equal to 1MB",{type:"error"});return}b(e.target.files[0])},k=async()=>{if(!g)return;y(!0);let e=new FormData;e.append("image",g),e.append("imageId",t.profilePictureId),e.append("userId",t.id),y(!0);let s=await fetch("/api/update-profile-picture",{method:"POST",body:e}),{error:n,data:a}=await s.json();n?((0,l.Am)(n,{type:"error"}),y(!1)):(v(a.profilePicture),y(!1),N.replace(N.asPath))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)(m(),{children:[(0,n.jsx)("title",{children:"AI Talking Avatar Generator"}),(0,n.jsx)("meta",{name:"description",content:"Generated by create next app"}),(0,n.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),(0,n.jsx)("link",{rel:"icon",href:"/favicon.ico"})]}),(0,n.jsxs)("main",{className:"p-10 mx-auto max-w-4xl",children:[(0,n.jsx)("div",{className:"topnav",children:(0,n.jsx)("div",{children:(0,n.jsx)("h1",{className:"header1 text-2xl md:text-2xl font-bold",children:"Your Profile"})})}),(0,n.jsxs)("div",{className:"max-w-7xl w-full mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[(0,n.jsxs)("h1",{className:"my-5 text-1xl",children:["Welcome, "," ",t.fullname,","]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"profilenav",children:(0,n.jsx)("h1",{className:"my-5",children:"Your Profile Picture"})}),(0,n.jsxs)("div",{className:"rowC",children:[(0,n.jsx)("div",{className:"my-5",children:t.profilePicture?(0,n.jsx)("img",{alt:"profile",className:"w-36 h-36 rounded-full my-5",src:t.profilePicture}):(0,n.jsx)("img",{alt:"profile",className:"w-36 h-36 rounded-full my-5",src:"/talkinai_bobo.jpeg"})}),(0,n.jsxs)("div",{className:"my-5",children:[(0,n.jsx)("label",{children:"Replace Image "}),(0,n.jsx)("input",{type:"file",onChange:P,name:"image",className:"my-5 block"}),w?(0,n.jsx)(c.Z,{}):(0,n.jsx)("button",{type:"button",onClick:k,className:"border p-1 bg-black text-white rounded",children:"Change"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"profilenav",children:(0,n.jsx)("h1",{className:"my-5",children:"Your Plan"})}),(0,n.jsxs)("div",{children:[t.onTrial&&new Date(t.trialStartAt)>_?(0,n.jsxs)("div",{className:"flex justify-center items-center gap-3 w-max m-auto mt-8 py-3 px-6 text-sm text-white font-semibold rounded-full active:scale-95 md:text-md md:m-0",children:[(0,n.jsx)("span",{className:"text-xl md:text-2xl p-2",children:(0,n.jsx)(o.ufi,{})}),(0,n.jsx)("span",{children:"You are on new user trial!"})," "]}):null,t.isSubscribed?(0,n.jsxs)("div",{className:"flex justify-center items-center gap-3 w-max m-auto mt-8 py-3 px-6 text-sm text-white font-semibold rounded-full active:scale-95 md:text-md md:m-0",children:[(0,n.jsx)("span",{className:"text-xl md:text-2xl p-2",children:(0,n.jsx)(o.ufi,{})}),(0,n.jsx)("span",{children:"You are subscribed!"})," "]}):null]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("div",{className:"profilenav",children:(0,n.jsx)("h1",{className:"my-5",children:"Your Creations In Last 30 Days"})}),(0,n.jsx)("h1",{className:"text-1xl md:text-1xl font-bold p-5",children:(0,n.jsxs)("span",{children:["Total Number of Creations:  ",x.length," "]})}),(0,n.jsx)("ul",{children:x.map(e=>(0,n.jsx)("div",{className:"rowC",children:(0,n.jsxs)("div",{className:"h-full w-100 md:w-1/2",children:[(0,n.jsxs)("h2",{className:"text-sm text-white font-semibold my-4",children:[e.id," - ",e.video_url]}),(0,n.jsxs)("p",{className:"text-sm font-normal text-gray leading-6",children:["video duration (seconds): ",Math.ceil(e.video_duration/60)]})]})},e.id))})]})]})]})]})}},9008:function(e,s,t){e.exports=t(3121)}},function(e){e.O(0,[13,774,888,179],function(){return e(e.s=9344)}),_N_E=e.O()}]);